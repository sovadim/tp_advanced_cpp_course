# Homework 4

## Task

Создать библиотечный класс, реализующий функционал асинхронного однопоточного TCP сервера с помощью epoll.

Сервер умеет принимать клиентов на определенном порту.

Сервер умеет регистрировать callback для обработки данных от клиентов, подключение происходит незаметно для пользователя.

Когда приходят данные, сервер должен вызвать callback и отправить туда Connection (аналогичный класс в дз 3).

Connection содержит в себе информацию о клиенте и текущем событии (можно читать или писать).

Connection позволяет асинхронно прочесть или отправить данные.
Необходимо предусмотреть возможность сохранения уже прочитанных данных, с каждым новым событием мы должны иметь возможность получить доступ к предыдущей информации

```cpp
class Server;     // необходимо реализовать
class Connection; // необходимо реализовать

// тип указателя на функцию для обработки данных
using Callback = std::function<void(Connection&)>;

auto handler = [](Connection& c)
{
    ... // здесь мы работаем с клиентом
}

// возможный вариант инициализации сервера колбэком
Server server{..., handler};
```

## Implementation progress

- [ ] Server
- [ ] Connection
- [ ] Exceptions
- [ ] Tests
